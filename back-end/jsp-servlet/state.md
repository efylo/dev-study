## State management

### Abstract

- 사용자가 서비스를 이용하며, 각 상황에서의 상태가 필요한 경우들이 존재한다. 
  - 회원에게만 제공하는, 회원 정보에 알맞은 서비스 제공
  - 상태 정보가 존재하는 경우에, 동적인 서비스를 제공할 수 있기 때문
- 상태 정보를 저장하기 위한 객체로써, WAS에서 4개의 객체를 제공
  - pageContext, request, session, application
    - 각 객체별로, Life-cycle이 다르다. 
    - Life-cycle이 다르다는 것은, 생성 및 소멸 시점이 다르다는 것을 일컫는다. 
    - pageContext는 현재 동작하고 있는 프로그램
    - request는 사용자의 요청을 받은 시점부터, 처리가 끝난 시점까지
    - session은 세션이 만료되지 않은 사용자의 요청이 들어왔을 때
    - application은 서버 프로그램이 시작한 시점부터, 종료된 시점까지

---

### Cookie

- WAS 단에서 저장하는 객체와는 다르게, Client 단에서 저장하는 사용자의 데이터
  - HTTP request의 Header에 위치
- Cookie에 저장되는 정보
  - name, value, domain, age, path
  - "domain/path"에 해당하는 서버에 접속 시에 해당 Cookie를 사용
    - 웹 브라우저가 처리한다. 
  - age는 각 쿠키의 만료 시점을 기록 (MaxAge)
    - 만료된 쿠키는, 브라우저가 더 이상 사용하지 않는다. 
    - 만료 시점이 기록되지 않은 쿠키의 경우, 디스크 상에 저장되지 않으며, 브라우저 종료 시점에 제거된다. 
  - name, value는 서버로 전송할 데이터의 이름과 값을 저장
- 예시
  - 사용자의 세션 아이디

---

### Session

- WAS 단에서 저장하는, 사용자에 대한 정보를 저장하는 객체
  - String(문자열) 타입으로 정보를 저장해야 하는 Cookie와는 다르게, 클래스로 지정하여 저장할 수 있다. 
  - 이는, 자바로 이루어진 서버 프로그램을 실행하기 때문에 가능하다. 
- 자주 주고 받기에 바람직하지 않은 데이터의 경우 지향할 것으로 보인다. 

